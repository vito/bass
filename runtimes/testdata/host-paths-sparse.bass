(defn cat paths
  (-> ($ cat & $paths)
      (response-from :stdout)))

(def thunk-arg
  (from (linux/alpine)
    (cat *dir*/host-paths/one
         *dir*/host-paths/two
         *dir*/host-paths/three)))

(let [arg-stream (thunk-arg)
      count-files ((from thunk-arg
                     (-> ($ sh -c "find . -type f | wc -l")
                         (response-from :stdout))))]
  [(next arg-stream)
   (next arg-stream)
   (next arg-stream)
   (next count-files)])
